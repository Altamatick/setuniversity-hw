# Homework 2 — Карта можливостей, Дерево якості (Utility Tree), ASR, Обмеження
Learning Management System (LMS)

Цей документ описує карту можливостей, дерево якості, архітектурно значущі вимоги (ASR), вимоги до атрибутів якості та обмеження для системи LMS.

---

# 1. Карта можливостей (Capability Map)
L1 — бізнес-можливості верхнього рівня; L2 — підтримуючі підможливості.

---

## 1.1 Capability Map Table

| Рівень | Можливість | Опис |
|--------|------------|------|
| **L1** | **Керувати курсами** | Повний життєвий цикл внутрішніх, зовнішніх (vendor) та security-курсів. |
| L2 | Записувати внутрішні курси | Захоплення, зберігання та доступ до записів тренінгів і воркшопів. |
| L2 | Підтримувати каталог курсів | Створення, оновлення, деактивація та версіонування курсів. |
| L2 | Призначати пріоритет курсам | Встановлення пріоритетів для валідації та бронювання. |
| L2 | Повторно перевалідувати курси | Повторна перевірка неоплачених курсів після змін правил. |
| L2 | Сповіщати стейкхолдерів курсу | Email/SMS-сповіщення слухачів та адміністраторів. |

---

| Рівень | Можливість | Опис |
|--------|------------|------|
| **L1** | **Керувати бронюваннями курсів** | Управління заявками, автоматичними рішеннями та workflow затвердження. |
| L2 | Фіксувати заявки на бронювання | Створення заявок. |
| L2 | Валідувати заявки | Автоматична перевірка за правилами та пріоритетами. |
| L2 | Приймати рішення по заявках | Автоприйняття або відхилення. |
| L2 | Ручно затверджувати бронювання | Перегляд і затвердження адміністратором. |
| L2 | Сповіщати про статус бронювань | Повідомлення користувачів та адміністраторів. |

---

| Рівень | Можливість | Опис |
|--------|------------|------|
| **L1** | **Автентифікувати та авторизовувати користувачів** | Забезпечення безпечного доступу та контролю ролей. |
| L2 | Автентифікувати користувачів через SSO | Корпоративний IdP (SAML/OIDC). |
| L2 | Авторизовувати ролі та права | Learner, Admin, Vendor, Auditor. |

---

| Рівень | Можливість | Опис |
|--------|------------|------|
| **L1** | **Інтегрувати зовнішніх постачальників** | Надання постачальникам доступу до керування курсами. |
| L2 | Керувати можливостями постачальників | Створення, оновлення, закриття курсів. |
| L2 | Сповіщати про зміни постачальників | Сповіщення адміністраторів та vendorʼів. |

---

| Рівень | Можливість | Опис |
|--------|------------|------|
| **L1** | **Шукати курси** | Пошук і фільтрація курсів та бронювань. |
| L2 | Шукати в каталозі курсів | Пошук у внутрішньому та vendor-каталозі. |
| L2 | Шукати бронювання | Пошук бронювань для користувачів та адміністраторів. |

---

| Рівень | Можливість | Опис |
|--------|------------|------|
| **L1** | **Звітність та аналітика** | Booking, usage, vendor-звіти. |
| L2 | Звітність по бронюваннях | Статистика заявок і статусів. |
| L2 | Звітність по постачальниках | Ефективність vendorʼів. |
| L2 | Звітність по використанню | Метрики активності користувачів. |

---

| Рівень | Можливість | Опис |
|--------|------------|------|
| **L1** | **Експлуатувати та моніторити платформу LMS** | Забезпечення стабільної роботи системи. |
| L2 | Моніторити стан системи | Доступність, продуктивність, збої. |
| L2 | Керувати конфігурацією та правилами | Правила валідації, сповіщень, пріоритетів. |

---

# 2. Дерево якості (Utility Tree)

Позначення: **(Важливість, Складність)** — H / M / L  
Листок дерева — **якісний сценарій**, що впливає на архітектурні рішення.

---

## 2.1 Utility Tree (намальоване)

```text
UTILITY
├── БЕЗПЕКА
│   ├── Усі користувачі проходять автентифікацію через корпоративний SSO;
│   │    система не зберігає паролів.                               (H, M)
│   ├── Увесь зовнішній трафік передається через TLS.              (H, L)
│   └── Усі події безпеки логуються централізовано.                (H, M)
│
├── ПРОДУКТИВНІСТЬ
│   ├── Пошук курсів ≤ 2 секунди у 95% випадків.                  (H, M)
│   ├── Бронювання (валідація + рішення) ≤ 3 секунди.            (H, M)
│   └── Типові звіти формуються ≤ 10 секунд.                      (M, M)
│
├── ДОСТУПНІСТЬ
│   ├── Доступність системи ≥ 99.5% у робочий час.               (H, H)
│   ├── Дані не втрачаються при збоях зовнішніх сервісів.        (H, M)
│   └── Відновлення після відмови вузла без втрати даних.        (M, M)
│
├── ЗРУЧНІСТЬ
│   ├── Адміністратор створює/оновлює курс ≤ 5 хв.               (H, L)
│   ├── Користувач подає заявку ≤ 3 кроків.                      (M, M)
│   └── Система показує локалізовані та зрозумілі помилки.       (M, L)
│
├── МОДИФІКОВАНІСТЬ
│   ├── Правила бронювання змінюються без змін коду.             (H, H)
│   ├── Новий vendor підключається ≤ 5 людино-днів.             (M, H)
│   └── Нові канали сповіщень додаються без змін ядра.           (M, M)
│
├── ІНТЕГРАЦІЯ
│   ├── Інтеграція з корпоративним SSO через SAML/OIDC.          (H, M)
│   ├── Підтримка email/SMS-шлюзів.                              (H, M)
│   └── Інтеграція з зовнішнім vendor API.                       (M, H)
│
└── АУДИТ ТА КОМПЛАЄНС
    ├── Логи експортуються у машинозчитуваному форматі.         (H, M)
    └── Операційні звіти доступні авторизованим користувачам.   (M, M)
```
# 3. Архітектурно значущі вимоги (ASR)

ASR — це вимоги, які **безпосередньо впливають на архітектуру системи**  
(структуру, інтеграції, масштабування, узгодженість, потоки даних).

| ID | Категорія | ASR | Обґрунтування (Rationale) |
|----|-----------|-----|---------------------------|
| **ASR-1** | Security | Уся автентифікація в LMS виконується виключно через корпоративний SSO; система не зберігає паролів користувачів. | Визначає архітектуру автентифікації, інтеграцію з IdP, управління сесіями та виключає локальний user-store. |
| **ASR-2** | Performance | Пошук курсів має виконуватись ≤ 2 секунди для 95% запитів при великому каталозі. | Впливає на вибір БД, індексацію, кешування або використання search engine. |
| **ASR-3** | Performance | Обробка заявки на бронювання (валідація + рішення) має виконуватись ≤ 3 секунди. | Визначає архітектуру процесингу правил, синхронність/асинхронність взаємодій. |
| **ASR-4** | Availability | Система повинна витримувати пікові навантаження під час масових обовʼязкових тренінгів. | Впливає на горизонтальне масштабування, балансування навантаження, стейтлес-архітектуру. |
| **ASR-5** | Modifiability | Бізнес-правила бронювання та пріоритетів мають змінюватися без модифікації коду. | Визначає використання rule engine або конфігураційної моделі правил. |
| **ASR-6** | Reliability | Revalidation великих обсягів даних не повинна створювати неконсистентних статусів бронювань. | Впливає на транзакційні межі, фонові процеси та механізми узгодженості. |
| **ASR-7** | Reliability | Сповіщення мають гарантовано доставлятись через механізми черг і повторів при збоях зовнішніх сервісів. | Вимагає використання message queue та асинхронної обробки подій. |
| **ASR-8** | Auditability | Усі критичні зміни курсів, правил та бронювань мають бути повністю аудійовані. | Визначає архітектуру аудиту, незмінність логів і окреме сховище подій. |
| **ASR-9** | Integration | Інтеграції постачальників мають бути ізольовані від внутрішнього ядра системи. | Запобігає впливу зовнішніх збоїв на core-бізнес процеси LMS. |
# 3.2 Вибрані вимоги до якостей (Non-ASR)

Ці вимоги **не є архітектурними драйверами**, але описують очікувану поведінку системи.

| ID | Атрибут якості | Вимога |
|----|----------------|--------|
| **QA-1** | Security | Система не зберігає паролів користувачів. |
| **QA-2** | Security | Адміністративні функції доступні лише згідно з ролями. |
| **QA-3** | Performance | Пошук курсів має відбуватись швидко. |
| **QA-4** | Performance | Бронювання має виконуватись швидко. |
| **QA-5** | Reliability | Повторна перевірка не пошкоджує дані. |
| **QA-6** | Auditability | Усі зміни логуються. |
| **QA-7** | Auditability | Звіти є достовірними. |

---

# 3.3 Обмеження (Constraints)

Обмеження визначають **архітектурні рамки**, в межах яких дозволено будувати рішення.

| ID | Тип | Обмеження |
|----|-----|-----------|
| **CON-1** | Організаційне | Використовується лише корпоративний SSO. |
| **CON-2** | Технічне | Дозволені лише затверджені email та SMS-провайдери. |
| **CON-3** | Інфраструктурне | Розгортання можливе лише у дозволеній інфраструктурі. |
| **CON-4** | Регуляторне | Обовʼязкове дотримання GDPR та внутрішніх політик безпеки. |
| **CON-5** | Регуляторне | Дані зберігаються лише у дозволених регіонах. |
| **CON-6** | Технічне | Інтеграції — лише через захищені стандартні протоколи. |
| **CON-7** | Процесне | Усі зміни проходять формалізований change-management. |
| **CON-8** | Фінансове | Ліцензійні компоненти — лише в межах затвердженого бюджету. |
